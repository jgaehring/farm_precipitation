!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(7);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(5).default)("07557010",r,!1,{})},function(t,e,n){var r=n(9);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(5).default)("faa82c20",r,!1,{})},function(t,e,n){var r=n(11);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(5).default)("4301c1d5",r,!1,{})},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var a=(i=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([a]).join("\n")}var i,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(a[i]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&a[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},a=0;a<e.length;a++){var o=e[a],i=o[0],s={id:t+":"+a,css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}n.r(e),n.d(e,"default",(function(){return f}));var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},i=a&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,u=!1,l=function(){},d=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,n,a){u=n,d=a||{};var i=r(t,e);return v(i),function(e){for(var n=[],a=0;a<i.length;a++){var s=i[a];(c=o[s.id]).refs--,n.push(c)}e?v(i=r(t,e)):i=[];for(a=0;a<n.length;a++){var c;if(0===(c=n[a]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete o[c.id]}}}}function v(t){for(var e=0;e<t.length;e++){var n=t[e],r=o[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(h(n.parts[a]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(a=0;a<n.parts.length;a++)i.push(h(n.parts[a]));o[n.id]={id:n.id,refs:1,parts:i}}}}function m(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function h(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(p){var a=c++;r=s||(s=m()),e=y.bind(null,r,a,!1),n=y.bind(null,r,a,!0)}else r=m(),e=b.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var g,_=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function y(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,a);else{var o=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function b(t,e){var n=e.css,r=e.media,a=e.sourceMap;if(r&&t.setAttribute("media",r),d.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},function(t,e,n){"use strict";var r=n(1);n.n(r).a},function(t,e,n){(e=n(4)(!1)).push([t.i,"\ntable svg {\n  height: 1.25rem;\n}\n.add-wrapper {\n  display: inline-block;\n  vertical-align: bottom;\n}\n.add-wrapper svg {\n  display: block;\n}\n#date-form {\n  flex: 1 1 30%;\n}\n#hour-form, #minute-form, #am-pm-form {\n  flex: 1 1 3rem;\n}\n\n",""]),t.exports=e},function(t,e,n){"use strict";var r=n(2);n.n(r).a},function(t,e,n){(e=n(4)(!1)).push([t.i,"\na, a:hover {\n  text-decoration: none;\n  color: inherit;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";var r=n(3);n.n(r).a},function(t,e,n){(e=n(4)(!1)).push([t.i,"\n.clickable[data-v-3e468718]:hover {\n  background-color: #eee;\n  cursor: pointer;\n}\n\n",""]),t.exports=e},function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[n("br"),t._v(" "),null!==t.currentLogID?n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[t._v("Record a weather event")]),t._v(" "),n("div",{staticClass:"card-body"},[n("farm-date-time-form",{attrs:{timestamp:t.currentLog.timestamp},on:{input:function(e){return t.updateCurrentLog("timestamp",e)}}}),t._v(" "),n("div",{staticClass:"form-row"},[n("div",{staticClass:"form-item form-group col"},[n("label",{staticClass:"control-label",attrs:{for:"precip-amt"}},[t._v("\n            Precipitation amount ("+t._s(t.unitAbbr)+")\n          ")]),t._v(" "),n("input",{staticClass:"form-control",attrs:{id:"precip-amt",type:"number",min:"0"},domProps:{value:t.currentLog.quantity[0].value},on:{input:function(e){return t.updateQuantity("value",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-item form-group col"},[n("label",{staticClass:"control-label",attrs:{for:"precip-type"}},[t._v("Precipitation Type")]),t._v(" "),n("div",{staticClass:"form-item form-group",attrs:{id:"precip-type"}},[n("div",{staticClass:"form-check"},[n("input",{staticClass:"form-check-input",attrs:{id:"precip-type-rain",name:"precip-type",type:"radio",value:"rain"},domProps:{checked:"rain"===t.currentLog.quantity[0].label},on:{input:function(e){return t.updateQuantity("label",e?"rain":"snow")}}}),t._v(" "),n("label",{staticClass:"form-check-label",attrs:{for:"precip-type-rain"}},[t._v("Rain")])]),t._v(" "),n("div",{staticClass:"form-check"},[n("input",{staticClass:"form-check-input",attrs:{id:"precip-type-snow",name:"precip-type",type:"radio",value:"snow"},domProps:{checked:"snow"===t.currentLog.quantity[0].label},on:{input:function(e){return t.updateQuantity("label",e?"snow":"rain")}}}),t._v(" "),n("label",{staticClass:"form-check-label",attrs:{for:"precip-type-snow"}},[t._v("Snow")])])])])]),t._v(" "),n("div",{staticClass:"form-row"},[n("div",{staticClass:"form-item form-group col"},[n("label",{staticClass:"control-label",attrs:{for:"notes"}},[t._v("Notes")]),t._v(" "),n("textarea",{staticClass:"form-textarea form-control",attrs:{id:"notes",placeholder:"Enter notes"},domProps:{value:t.parseNotes(t.currentLog.notes)},on:{input:function(e){return t.updateNotes(e.target.value)}}})])])],1)]):t._e(),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[t._v("Past weather events")]),t._v(" "),n("div",{staticClass:"card-body"},[n("table",{staticClass:"table"},[n("tbody",[n("tr",[n("td",{attrs:{colspan:"4"},on:{click:t.createWeatherLog}},[n("div",{staticClass:"add-wrapper"},[n("icon-add-circle")],1),t._v(" "),n("em",[t._v("Â Add a new weather event.")])])]),t._v(" "),t._l(t.logs,(function(e){return n("tr",{key:"log-"+e.localID,on:{click:function(n){t.currentLogID=e.localID}}},[n("th",{attrs:{scope:"row"}},[t._v("\n              "+t._s(new Date(1e3*e.timestamp).toLocaleDateString(void 0,{dateStyle:"medium"}))+"\n            ")]),t._v(" "),n("td",[t._v("\n              "+t._s(new Date(1e3*e.timestamp).toLocaleTimeString(void 0,{timeStyle:"short"}))+"\n            ")]),t._v(" "),e.quantity[0]?n("td",[t._v(t._s(e.quantity[0].value+" "+t.unitAbbr))]):t._e(),t._v(" "),e.quantity[0]&&"snow"===e.quantity[0].label?n("td",[n("icon-snowflake")],1):t._e(),t._v(" "),e.quantity[0]&&"rain"===e.quantity[0].label?n("td",[n("icon-raindrops")],1):t._e()])}))],2)])])])])};r._withStripped=!0;var a=n(0),o=n.n(a);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c={name:"Weather",data:function(){return{currentLogID:null,time:{date:null,hour:null,minute:null,am:!0}}},props:["logs","units","categories","systemOfMeasurement"],created:function(){this.$store.dispatch("updateUnits"),this.$store.dispatch("updateCategories")},computed:{currentLog:function(){var t=this;return this.logs.find((function(e){return e.localID===t.currentLogID}))},weatherTid:function(){return this.categories.find((function(t){return"Weather"===t.name})).tid},unitName:function(){return"us"===this.systemOfMeasurement?"inches":"centimeters"},unitAbbr:function(){return"us"===this.systemOfMeasurement?"in":"cm"},unitTid:function(){var t=this;return this.units.find((function(e){return e.name===t.unitName})).tid}},methods:{createWeatherLog:function(){var t=this;this.$store.dispatch("initializeLog",{type:"farm_observation",log_category:[{id:this.weatherTid}],quantity:[{measure:"length",value:0,unit:{id:this.unitTid},label:"rain"}],done:!0}).then((function(e){t.currentLogID=e}))},updateCurrentLog:function(t,e){var n,r=(n={},o()(n,t,e),o()(n,"localID",this.currentLogID),n);this.$store.dispatch("updateLog",r)},updateNotes:function(t){this.updateCurrentLog("notes",{value:t,format:"farm_format"})},updateQuantity:function(t,e){var n=[s({},this.currentLog.quantity[0],o()({},t,e))];this.updateCurrentLog("quantity",n)},unixToDateString:function(t){var e=new Date(1e3*t),n=function(t){return t<10?"0".concat(t):t},r=n(e.getMonth()+1),a=n(e.getDate());return"".concat(e.getFullYear(),"-").concat(r,"-").concat(a)},dateStringToUnix:function(t){var e=+t.split("-")[0],n=+t.split("-")[1]-1,r=+t.split("-")[2];return Math.floor(new Date(e,n,r).getTime()/1e3).toString()},parseNotes:window.farmOS.utils.parseNotes}};n(6);function u(t,e,n,r,a,o,i,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):a&&(c=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}var l=u(c,r,[],!1,null,null,null);l.options.__file="src/FieldModule/Weather/js/components/Weather.vue";var d=l.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("farm-menu-bar",{attrs:{more:!1},scopedSlots:t._u([{key:"left-menu",fn:function(){return[n("li",{on:{click:function(e){return t.$emit("toggleDrawer")}}},[n("icon-menu")],1),t._v(" "),n("li",[t._v("Weather")])]},proxy:!0}])})};p._withStripped=!0;var f=u({name:"WeatherMenuBar"},p,[],!1,null,null,null);f.options.__file="src/FieldModule/Weather/js/components/WeatherMenuBar.vue";var v=f.exports,m=function(){var t=this.$createElement,e=this._self._c||t;return e("farm-drawer-list",[e("router-link",{attrs:{to:{name:"weather-form"}}},[e("farm-drawer-list-item",[this._v("Record Weather Event")])],1)],1)};m._withStripped=!0;n(8);var h=u({},m,[],!1,null,null,null);h.options.__file="src/FieldModule/Weather/js/components/DrawerItems.vue";var g=h.exports,_=function(){var t=this.$createElement,e=this._self._c||t;return e("farm-widget",[e("h4",{staticClass:"card-title"},[this._v("Weather Widget")]),this._v(" "),e("h5",{staticClass:"clickable",on:{click:this.openWeather}},[this._v("\n    Log Weather\n    "),e("IconRaindrops",{staticClass:"inline-svg"})],1)])};_._withStripped=!0;var y={methods:{openWeather:function(){this.$router.push({path:"/weather"})}}},b=(n(10),u(y,_,[],!1,null,"3e468718",null));b.options.__file="src/FieldModule/Weather/js/components/Widget.vue";var w={name:"weather-form",drawer:g,widget:b.exports,routes:[{name:"weather-form",path:"/weather",components:{default:d,menubar:v}}]};window.farmOS.modules[w.name]=w}]);